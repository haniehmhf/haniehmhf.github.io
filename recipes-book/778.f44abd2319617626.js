"use strict";(self.webpackChunkangular_shopping=self.webpackChunkangular_shopping||[]).push([[778],{7778:(D,g,s)=>{s.r(g),s.d(g,{RecipesModule:()=>G});var o=s(433),a=s(6057),v=s(5698),_=s(4004),e=s(8256),Z=s(3505);let x=(()=>{class i{constructor(t,n){this.authService=t,this.router=n}canActivate(t,n){return this.authService.user$.pipe((0,v.q)(1),(0,_.U)(c=>!!c||this.router.createUrlTree(["/auth"])))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Z.e),e.LFG(a.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var R=s(4466),u=s(7579),m=s(2722),l=s(7561),d=s(6895);function C(i,r){if(1&i&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.AsE(" ",t.name," : ",t.amount," ")}}const T=function(i){return["../",i,"edit"]};function w(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"div",3),e._UZ(3,"img",4),e.qZA()(),e.TgZ(4,"div",5)(5,"div",6)(6,"h2",7),e._uU(7),e.ALo(8,"uppercase"),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"button",10),e._uU(12," Manage Recipe "),e.qZA(),e.TgZ(13,"ul",11)(14,"li")(15,"a",12),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addToList())}),e._uU(16,"To shopping list"),e.qZA()(),e.TgZ(17,"li")(18,"a",13),e._uU(19,"Edit"),e.qZA()(),e.TgZ(20,"li")(21,"a",12),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.delete())}),e._uU(22,"Delete"),e.qZA()()()()()(),e._UZ(23,"hr"),e.TgZ(24,"div",2)(25,"div",3)(26,"strong"),e._uU(27,"Description: "),e.qZA(),e._uU(28),e.qZA()(),e._UZ(29,"hr"),e.TgZ(30,"div",2)(31,"div",3)(32,"div",14),e.YNc(33,C,2,2,"div",15),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",t.selectedRecpie.imagePath,e.LSH),e.xp6(4),e.Oqu(e.lcZ(8,5,t.selectedRecpie.name)),e.xp6(11),e.Q6J("routerLink",e.VKq(7,T,t.param)),e.xp6(10),e.hij("",t.selectedRecpie.description," "),e.xp6(5),e.Q6J("ngForOf",t.selectedRecpie.ingredients)}}function y(i,r){1&i&&(e.TgZ(0,"p"),e._uU(1,"No Recpie Selected"),e.qZA())}let b=(()=>{class i{constructor(t,n){this.recpieService=t,this.route=n,this.destroy$=new u.x}ngOnInit(){this.route.params.pipe((0,m.R)(this.destroy$)).subscribe(t=>{this.param=+t.id,this.selectedRecpie=this.recpieService.getRecpie(+this.param)})}addToList(){this.recpieService.addToList(this.selectedRecpie.ingredients)}delete(){this.recpieService.deleteRecipe(this.param)}ngOnDestroy(){this.destroy$.next(null)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.T),e.Y36(a.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-detail"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noSelected",""],[1,"row"],[1,"col-12"],["alt","",1,"img-responsive","rounded-2",2,"width","300px",3,"src"],[1,"row","d-flex","justify-content-between","mt-2","align-items-center"],[1,"col-8"],[1,"mb-0"],[1,"col-4"],[1,"dropdown","w-100"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-primary","dropdown-toggle","w-100"],[1,"dropdown-menu","w-100"],[1,"dropdown-item",3,"click"],[1,"dropdown-item",3,"routerLink"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(t,n){if(1&t&&(e.YNc(0,w,34,9,"ng-container",0),e.YNc(1,y,2,0,"ng-template",null,1,e.W1O)),2&t){const c=e.MAs(2);e.Q6J("ngIf",n.selectedRecpie)("ngIfElse",c)}},dependencies:[a.yS,d.sg,d.O5,d.gd],styles:["a[_ngcontent-%COMP%]{cursor:pointer}"]}),i})();var h=s(1481);function A(i,r){if(1&i&&(e.TgZ(0,"div",22)(1,"div",2),e._UZ(2,"img",23),e.qZA()()),2&i){e.oxw();const t=e.MAs(21),n=e.oxw();e.xp6(2),e.Q6J("src",n.sanitizer.bypassSecurityTrustUrl(t.value),e.LSH)}}function I(i,r){1&i&&(e.TgZ(0,"label"),e._uU(1,"Ingredients"),e.qZA())}function F(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",25),e._UZ(2,"input",26),e.qZA(),e.TgZ(3,"div",27),e._UZ(4,"input",28),e.qZA(),e.TgZ(5,"div",27)(6,"button",29),e.NdJ("click",function(){const p=e.CHM(t).index,P=e.oxw(2);return e.KtG(P.deleteIngredient(p))}),e._uU(7,"X"),e.qZA()()()}2&i&&e.Q6J("formGroupName",r.index)}function U(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.submitForm())}),e.TgZ(3,"div",4)(4,"div",2)(5,"button",5),e._uU(6," Save "),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.cancel())}),e._uU(8," Cancel "),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",2)(11,"div",8)(12,"label",9),e._uU(13,"Name"),e.qZA(),e._UZ(14,"input",10),e.qZA()()(),e.TgZ(15,"div",1)(16,"div",2)(17,"div",8)(18,"label",11),e._uU(19,"Image URL"),e.qZA(),e._UZ(20,"input",12,13),e.qZA()()(),e.YNc(22,A,3,1,"div",14),e.TgZ(23,"div",1)(24,"div",2)(25,"div",8)(26,"label",15),e._uU(27,"Description"),e.qZA(),e._UZ(28,"textarea",16),e.qZA()()(),e.YNc(29,I,2,0,"label",17),e.TgZ(30,"div",18)(31,"div",19),e.YNc(32,F,8,1,"div",20),e.qZA()(),e.TgZ(33,"div",1)(34,"div",2)(35,"button",21),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.addIngredients())}),e._uU(36," Add Ingredients "),e.qZA()()()()()()}if(2&i){const t=e.MAs(21),n=e.oxw();e.xp6(2),e.Q6J("formGroup",n.recpieForm),e.xp6(3),e.Q6J("disabled",!n.recpieForm.valid),e.xp6(17),e.Q6J("ngIf",t.value),e.xp6(7),e.Q6J("ngIf",n.controls.length),e.xp6(3),e.Q6J("ngForOf",n.controls)}}let f=(()=>{class i{constructor(t,n,c,p){this.route=t,this.recpieService=n,this.sanitizer=c,this.router=p,this.destroy$=new u.x}ngOnInit(){this.route.params.pipe((0,m.R)(this.destroy$)).subscribe(t=>{this.id=t.id,this.editMode=!!this.id,this.initForm()})}initForm(){let t,n=new o.Oe([]);this.editMode&&(t=this.recpieService.getRecpie(this.id),t&&t.ingredients&&t.ingredients.forEach(c=>{const p=new o.cw({name:new o.NI(c.name,o.kI.required),amount:new o.NI(c.amount,[o.kI.required,o.kI.pattern(/^[1-9]+[0-9]*$/)])});n.push(p)})),this.recpieForm=new o.cw({name:new o.NI(t?t.name:"",o.kI.required),imagePath:new o.NI(t?t.imagePath:"",o.kI.required),description:new o.NI(t?t.description:"",o.kI.required),ingredients:n})}get controls(){return this.recpieForm.get("ingredients").controls}addIngredients(){this.recpieForm.get("ingredients").push(new o.cw({name:new o.NI(null,o.kI.required),amount:new o.NI(null,[o.kI.required,o.kI.pattern(/^[1-9]+[0-9]*$/)])}))}submitForm(){this.recpieService.updateRecipe(this.recpieForm.value,this.id),this.cancel()}deleteIngredient(t){this.recpieForm.get("ingredients").removeAt(t)}cancel(){this.router.navigate(["recpies"])}ngOnDestroy(){this.destroy$.next("")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.gz),e.Y36(l.T),e.Y36(h.H7),e.Y36(a.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-edit"]],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"row","mb-2"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-danger","ms-2",3,"click"],[1,"row","mb-1"],[1,"form-group"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["for","imgPath"],["formControlName","imagePath","type","text","id","imgPath",1,"form-control"],["img",""],["class","row mb-2 mt-2",4,"ngIf"],["for","description"],["formControlName","description","type","text","id","description","rows","6",1,"form-control"],[4,"ngIf"],[1,"row","mb-3"],["formArrayName","ingredients",1,"col-12"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-success",3,"click"],[1,"row","mb-2","mt-2"],["height","100","height","100","alt","",1,"img-responsive",3,"src"],[1,"row",3,"formGroupName"],[1,"col-8"],["type","text","formControlName","name",1,"form-control"],[1,"col-2"],["type","number","formControlName","amount",1,"form-control"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(t,n){1&t&&e.YNc(0,U,37,5,"div",0),2&t&&e.Q6J("ngIf",n.recpieForm)},dependencies:[o._Y,o.Fj,o.wV,o.JJ,o.JL,o.sg,o.u,o.x0,o.CE,d.sg,d.O5],styles:["input.ng-invalid.ng-touched[_ngcontent-%COMP%], textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}"]}),i})();var N=s(8675);const S=function(i){return[i]};let q=(()=>{class i{constructor(t){this.sanitizer=t,this.recpie={name:"",description:"",imagePath:"",ingredients:[]}}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.H7))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-item"]],inputs:{recpie:"recpie",index:"index"},decls:8,vars:6,consts:[["routerLinkActive","active",1,"list-group-item","recipe-box","mb-1","d-flex","h-100","w-100","rounded-2","justify-content-between","align-items-center",3,"routerLink"],[1,"ms-2","me-auto"],[1,"list-group-item-heading","mb-1"],[1,"recipe-desc"],[1,"float-right"],["alt","",1,"img-responsive","rounded-2",2,"max-height","100px",3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"a",0)(1,"div",1)(2,"h4",2),e._uU(3),e.qZA(),e.TgZ(4,"p",3),e._uU(5),e.qZA()(),e.TgZ(6,"span",4),e._UZ(7,"img",5),e.qZA()()),2&t&&(e.Q6J("routerLink",e.VKq(4,S,n.index)),e.xp6(3),e.Oqu(n.recpie.name),e.xp6(2),e.Oqu(n.recpie.description),e.xp6(2),e.Q6J("src",n.sanitizer.bypassSecurityTrustUrl(n.recpie.imagePath),e.LSH))},dependencies:[a.yS,a.Od],styles:[".recipe-box[_ngcontent-%COMP%]{height:180px!important;width:100%}.recipe-box[_ngcontent-%COMP%]   .recipe-desc[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:inherit}"]}),i})(),O=(()=>{class i{transform(t,n){let c=[];return n.length?(t.forEach(p=>{p.name.includes(n)&&c.push(p)}),c):t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"filter",type:i,pure:!0}),i})();function J(i,r){if(1&i&&e._UZ(0,"app-recipe-item",12),2&i){const t=r.$implicit;e.Q6J("index",r.index)("recpie",t)}}function k(i,r){if(1&i&&(e.ynx(0),e.YNc(1,J,1,2,"app-recipe-item",11),e.ALo(2,"filter"),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.recpies,t.searchKey))}}function L(i,r){1&i&&(e.TgZ(0,"div",13)(1,"span",14),e._uU(2,"Loading..."),e.qZA()())}let M=(()=>{class i{constructor(t,n,c,p){this.recpieService=t,this.router=n,this.route=c,this.cd=p,this.destroy$=new u.x,this.searchKey="",this.loading=!0}ngOnInit(){this.recpieService.recipeChange$.asObservable().pipe((0,N.O)("")).pipe((0,m.R)(this.destroy$)).subscribe(()=>{this.recpies=this.recpieService.getList(),this.loading=!1,this.cd.markForCheck()})}addNew(){this.router.navigate(["new"],{relativeTo:this.route})}ngOnDestroy(){this.destroy$.next("")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.T),e.Y36(a.F0),e.Y36(a.gz),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-list"]],decls:16,vars:3,consts:[[1,"row"],[1,"col-12"],[1,"btn","btn-success",3,"click"],[1,"row","mb-2"],[1,"input-group"],["id","inputGroup-sizing-sm",1,"input-group-text"],[1,"bi","bi-search"],["type","text","placeholder","Search Recipe Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","list-group"],[4,"ngIf","ngIfElse"],["loader",""],[3,"index","recpie",4,"ngFor","ngForOf"],[3,"index","recpie"],["role","status",1,"spinner-grow","text-primary"],[1,"visually-hidden"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return n.addNew()}),e._uU(3,"New Recipe"),e.qZA()()(),e._UZ(4,"hr"),e.TgZ(5,"div",3)(6,"div",1)(7,"div",4)(8,"span",5),e._UZ(9,"i",6),e.qZA(),e.TgZ(10,"input",7),e.NdJ("ngModelChange",function(p){return n.searchKey=p}),e.qZA()()()(),e.TgZ(11,"div",8)(12,"div",1),e.YNc(13,k,3,4,"ng-container",9),e.qZA()(),e.YNc(14,L,3,0,"ng-template",null,10,e.W1O)),2&t){const c=e.MAs(15);e.xp6(10),e.Q6J("ngModel",n.searchKey),e.xp6(3),e.Q6J("ngIf",n.recpies&&n.recpies.length&&!n.loading)("ngIfElse",c)}},dependencies:[o.Fj,o.JJ,o.On,d.sg,d.O5,q,O]}),i})(),Y=(()=>{class i{constructor(t){this.recpieService=t}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipes"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-5"],[1,"col-md-7"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-recipe-list"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()())},dependencies:[a.lC,M]}),i})();var E=s(9646);const Q=[{path:"",component:Y,resolve:[(()=>{class i{constructor(t){this.recipeService=t}resolve(t){const n=this.recipeService.recpies;return n&&n.length?(0,E.of)(n):this.recipeService.fetchRecipes()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(l.T))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()],canActivate:[x],children:[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-recpie-starter"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"h3"),e._uU(1,"Please Select The Recpie"),e.qZA())}}),i})()},{path:"new",component:f},{path:":id",component:b},{path:":id/edit",component:f}]}];let G=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[a.Bz.forChild(Q),o.UX,o.u5,R.m]}),i})()}}]);